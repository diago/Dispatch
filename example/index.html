<!DOCTYPE html>
<html lang="en">
<head>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <title>Dispatch</title>

  <script src=" http://ajax.googleapis.com/ajax/libs/prototype/1.6/prototype.js"></script>
</head>
<body>

<div id="nav">
  <ul>
    <li><a href="#">Home</a></li>
    <li><a href="#">gf3!</a></li>
    <li><a href="#">Contact</a></li>
    <li><a href="#">About</a></li>
    <li><a class="external" href="http://github.com/diago/Dispatch">Dispatch</a></li>
  </ul>
</div>

<footer id="footer">
  <p>The Footer</p>
</footer>

<script src="../lib/dispatch.js"></script>
<script>

  function clickHandler ( ev, test ) {
    ev.stop();
    console.log(this, test, ev.findElement().innerHTML);
  }

  // using a selector for accuracy
  $('nav').dispatch( 'click', 'li a:not(.external)', clickHandler.bindAsEventListener( this, 'hello' ) );

  // to kill, pass the same selector 
  // $('nav').kill( 'click', 'li a:not(.external)' ); 

  // not so accurate
  $('footer').dispatch( 'click', clickHandler.bindAsEventListener( this, 'hello' ) );

  // to kill
  // $('footer').kill( 'click' );
  
</script>

</body>
</html>

